{"remainingRequest":"/Users/shiliangliang/6cloud/saber/node_modules/babel-loader/lib/index.js!/Users/shiliangliang/6cloud/saber/node_modules/eslint-loader/index.js??ref--13-0!/Users/shiliangliang/6cloud/saber/src/store/modules/tags.js","dependencies":[{"path":"/Users/shiliangliang/6cloud/saber/src/store/modules/tags.js","mtime":1675244276611},{"path":"/Users/shiliangliang/6cloud/saber/babel.config.js","mtime":1675244276424},{"path":"/Users/shiliangliang/6cloud/saber/node_modules/cache-loader/dist/cjs.js","mtime":1676864065065},{"path":"/Users/shiliangliang/6cloud/saber/node_modules/babel-loader/lib/index.js","mtime":1676864056051},{"path":"/Users/shiliangliang/6cloud/saber/node_modules/eslint-loader/index.js","mtime":1676864063827}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport { setStore, getStore } from '@/util/store';\nimport { diff } from '@/util/util';\nimport website from '@/config/website';\nvar isFirstPage = website.isFirstPage;\nvar tagWel = website.fistPage;\nvar tagObj = {\n  label: '',\n  //标题名称\n  value: '',\n  //标题的路径\n  params: '',\n  //标题的路径参数\n  query: '',\n  //标题的参数\n  meta: {},\n  //额外参数\n  group: [] //分组\n};\n\n//处理首个标签\nfunction setFistTag(list) {\n  if (list.length === 1) {\n    list[0].close = false;\n  } else {\n    list.forEach(function (ele) {\n      if (ele.value === tagWel.value && isFirstPage === false) {\n        ele.close = false;\n      } else {\n        ele.close = true;\n      }\n    });\n  }\n}\nvar navs = {\n  state: {\n    tagList: getStore({\n      name: 'tagList'\n    }) || [],\n    tag: getStore({\n      name: 'tag'\n    }) || tagObj,\n    tagWel: tagWel\n  },\n  actions: {},\n  mutations: {\n    ADD_TAG: function ADD_TAG(state, action) {\n      state.tag = action;\n      setStore({\n        name: 'tag',\n        content: state.tag\n      });\n      if (state.tagList.some(function (ele) {\n        return diff(ele, action);\n      })) return;\n      state.tagList.push(action);\n      setFistTag(state.tagList);\n      setStore({\n        name: 'tagList',\n        content: state.tagList\n      });\n    },\n    DEL_TAG: function DEL_TAG(state, action) {\n      state.tagList = state.tagList.filter(function (item) {\n        return !diff(item, action);\n      });\n      setFistTag(state.tagList);\n      setStore({\n        name: 'tagList',\n        content: state.tagList\n      });\n    },\n    DEL_ALL_TAG: function DEL_ALL_TAG(state) {\n      state.tagList = [state.tagWel];\n      setStore({\n        name: 'tagList',\n        content: state.tagList\n      });\n    },\n    DEL_TAG_OTHER: function DEL_TAG_OTHER(state) {\n      state.tagList = state.tagList.filter(function (item) {\n        if (item.value === state.tag.value) {\n          return true;\n        } else if (!website.isFirstPage && item.value === website.fistPage.value) {\n          return true;\n        }\n      });\n      setFistTag(state.tagList);\n      setStore({\n        name: 'tagList',\n        content: state.tagList\n      });\n    },\n    SET_TAG_LIST: function SET_TAG_LIST(state, tagList) {\n      state.tagList = tagList;\n      setStore({\n        name: 'tagList',\n        content: state.tagList\n      });\n    }\n  }\n};\nexport default navs;",{"version":3,"names":["setStore","getStore","diff","website","isFirstPage","tagWel","fistPage","tagObj","label","value","params","query","meta","group","setFistTag","list","length","close","forEach","ele","navs","state","tagList","name","tag","actions","mutations","ADD_TAG","action","content","some","push","DEL_TAG","filter","item","DEL_ALL_TAG","DEL_TAG_OTHER","SET_TAG_LIST"],"sources":["/Users/shiliangliang/6cloud/saber/src/store/modules/tags.js"],"sourcesContent":["import {setStore, getStore} from '@/util/store'\r\nimport {diff} from '@/util/util'\r\nimport website from '@/config/website'\r\n\r\nconst isFirstPage = website.isFirstPage;\r\nconst tagWel = website.fistPage;\r\nconst tagObj = {\r\n  label: '', //标题名称\r\n  value: '', //标题的路径\r\n  params: '', //标题的路径参数\r\n  query: '', //标题的参数\r\n  meta: {},//额外参数\r\n  group: [], //分组\r\n}\r\n\r\n//处理首个标签\r\nfunction setFistTag(list) {\r\n  if (list.length === 1) {\r\n    list[0].close = false;\r\n  } else {\r\n    list.forEach(ele => {\r\n      if (ele.value === tagWel.value && isFirstPage === false) {\r\n        ele.close = false\r\n      } else {\r\n        ele.close = true\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n\r\nconst navs = {\r\n  state: {\r\n    tagList: getStore({name: 'tagList'}) || [],\r\n    tag: getStore({name: 'tag'}) || tagObj,\r\n    tagWel: tagWel\r\n  },\r\n  actions: {},\r\n  mutations: {\r\n    ADD_TAG: (state, action) => {\r\n      state.tag = action;\r\n      setStore({name: 'tag', content: state.tag})\r\n      if (state.tagList.some(ele => diff(ele, action))) return\r\n      state.tagList.push(action)\r\n      setFistTag(state.tagList);\r\n      setStore({name: 'tagList', content: state.tagList})\r\n    },\r\n    DEL_TAG: (state, action) => {\r\n      state.tagList = state.tagList.filter(item => {\r\n        return !diff(item, action);\r\n      })\r\n      setFistTag(state.tagList);\r\n      setStore({name: 'tagList', content: state.tagList})\r\n    },\r\n    DEL_ALL_TAG: (state) => {\r\n      state.tagList = [state.tagWel];\r\n      setStore({name: 'tagList', content: state.tagList})\r\n    },\r\n    DEL_TAG_OTHER: (state) => {\r\n      state.tagList = state.tagList.filter(item => {\r\n        if (item.value === state.tag.value) {\r\n          return true;\r\n        } else if (!website.isFirstPage && item.value === website.fistPage.value) {\r\n          return true;\r\n        }\r\n      })\r\n      setFistTag(state.tagList);\r\n      setStore({name: 'tagList', content: state.tagList})\r\n    },\r\n    SET_TAG_LIST(state, tagList) {\r\n      state.tagList = tagList;\r\n      setStore({name: 'tagList', content: state.tagList})\r\n    }\r\n  }\r\n}\r\nexport default navs\r\n"],"mappings":"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"}]}