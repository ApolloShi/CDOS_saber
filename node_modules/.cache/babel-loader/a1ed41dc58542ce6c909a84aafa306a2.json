{"remainingRequest":"/Users/shiliangliang/6cloud/saber/node_modules/babel-loader/lib/index.js!/Users/shiliangliang/6cloud/saber/node_modules/eslint-loader/index.js??ref--13-0!/Users/shiliangliang/6cloud/saber/src/store/modules/logs.js","dependencies":[{"path":"/Users/shiliangliang/6cloud/saber/src/store/modules/logs.js","mtime":1675244276611},{"path":"/Users/shiliangliang/6cloud/saber/babel.config.js","mtime":1675244276424},{"path":"/Users/shiliangliang/6cloud/saber/node_modules/cache-loader/dist/cjs.js","mtime":1676864065065},{"path":"/Users/shiliangliang/6cloud/saber/node_modules/babel-loader/lib/index.js","mtime":1676864056051},{"path":"/Users/shiliangliang/6cloud/saber/node_modules/eslint-loader/index.js","mtime":1676864063827}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport { setStore, getStore } from '@/util/store';\nimport { dateFormat } from '@/util/date';\nimport { sendLogs } from '@/api/user';\nvar logs = {\n  state: {\n    logsList: getStore({\n      name: 'logsList'\n    }) || []\n  },\n  actions: {\n    SendLogs: function SendLogs(_ref) {\n      var state = _ref.state,\n        commit = _ref.commit;\n      return new Promise(function (resolve, reject) {\n        sendLogs(state.logsList).then(function () {\n          commit('CLEAR_LOGS');\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    }\n  },\n  mutations: {\n    ADD_LOGS: function ADD_LOGS(state, _ref2) {\n      var type = _ref2.type,\n        message = _ref2.message,\n        stack = _ref2.stack,\n        info = _ref2.info;\n      state.logsList.push(Object.assign({\n        url: window.location.href,\n        time: dateFormat(new Date())\n      }, {\n        type: type,\n        message: message,\n        stack: stack,\n        info: info.toString()\n      }));\n      setStore({\n        name: 'logsList',\n        content: state.logsList\n      });\n    },\n    CLEAR_LOGS: function CLEAR_LOGS(state) {\n      state.logsList = [];\n      setStore({\n        name: 'logsList',\n        content: state.logsList\n      });\n    }\n  }\n};\nexport default logs;",{"version":3,"names":["setStore","getStore","dateFormat","sendLogs","logs","state","logsList","name","actions","SendLogs","commit","Promise","resolve","reject","then","catch","error","mutations","ADD_LOGS","type","message","stack","info","push","Object","assign","url","window","location","href","time","Date","toString","content","CLEAR_LOGS"],"sources":["/Users/shiliangliang/6cloud/saber/src/store/modules/logs.js"],"sourcesContent":["import {setStore, getStore} from '@/util/store'\r\nimport {dateFormat} from '@/util/date'\r\nimport {sendLogs} from '@/api/user'\r\n\r\nconst logs = {\r\n  state: {\r\n    logsList: getStore({name: 'logsList'}) || [],\r\n  },\r\n  actions: {\r\n    SendLogs({state, commit}) {\r\n      return new Promise((resolve, reject) => {\r\n        sendLogs(state.logsList).then(() => {\r\n          commit('CLEAR_LOGS');\r\n          resolve();\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n  },\r\n  mutations: {\r\n    ADD_LOGS: (state, {type, message, stack, info}) => {\r\n      state.logsList.push(Object.assign({\r\n        url: window.location.href,\r\n        time: dateFormat(new Date())\r\n      }, {\r\n        type,\r\n        message,\r\n        stack,\r\n        info: info.toString()\r\n      }))\r\n      setStore({name: 'logsList', content: state.logsList})\r\n    },\r\n    CLEAR_LOGS: (state) => {\r\n      state.logsList = [];\r\n      setStore({name: 'logsList', content: state.logsList})\r\n    }\r\n  }\r\n\r\n};\r\n\r\nexport default logs;\r\n"],"mappings":";AAAA,SAAQA,QAAQ,EAAEC,QAAQ,QAAO,cAAc;AAC/C,SAAQC,UAAU,QAAO,aAAa;AACtC,SAAQC,QAAQ,QAAO,YAAY;AAEnC,IAAMC,IAAI,GAAG;EACXC,KAAK,EAAE;IACLC,QAAQ,EAAEL,QAAQ,CAAC;MAACM,IAAI,EAAE;IAAU,CAAC,CAAC,IAAI;EAC5C,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQ,0BAAkB;MAAA,IAAhBJ,KAAK,QAALA,KAAK;QAAEK,MAAM,QAANA,MAAM;MACrB,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;QACtCV,QAAQ,CAACE,KAAK,CAACC,QAAQ,CAAC,CAACQ,IAAI,CAAC,YAAM;UAClCJ,MAAM,CAAC,YAAY,CAAC;UACpBE,OAAO,EAAE;QACX,CAAC,CAAC,CAACG,KAAK,CAAC,UAAAC,KAAK,EAAI;UAChBH,MAAM,CAACG,KAAK,CAAC;QACf,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF,CAAC;EACDC,SAAS,EAAE;IACTC,QAAQ,EAAE,kBAACb,KAAK,SAAmC;MAAA,IAAhCc,IAAI,SAAJA,IAAI;QAAEC,OAAO,SAAPA,OAAO;QAAEC,KAAK,SAALA,KAAK;QAAEC,IAAI,SAAJA,IAAI;MAC3CjB,KAAK,CAACC,QAAQ,CAACiB,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC;QAChCC,GAAG,EAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI;QACzBC,IAAI,EAAE5B,UAAU,CAAC,IAAI6B,IAAI,EAAE;MAC7B,CAAC,EAAE;QACDZ,IAAI,EAAJA,IAAI;QACJC,OAAO,EAAPA,OAAO;QACPC,KAAK,EAALA,KAAK;QACLC,IAAI,EAAEA,IAAI,CAACU,QAAQ;MACrB,CAAC,CAAC,CAAC;MACHhC,QAAQ,CAAC;QAACO,IAAI,EAAE,UAAU;QAAE0B,OAAO,EAAE5B,KAAK,CAACC;MAAQ,CAAC,CAAC;IACvD,CAAC;IACD4B,UAAU,EAAE,oBAAC7B,KAAK,EAAK;MACrBA,KAAK,CAACC,QAAQ,GAAG,EAAE;MACnBN,QAAQ,CAAC;QAACO,IAAI,EAAE,UAAU;QAAE0B,OAAO,EAAE5B,KAAK,CAACC;MAAQ,CAAC,CAAC;IACvD;EACF;AAEF,CAAC;AAED,eAAeF,IAAI"}]}